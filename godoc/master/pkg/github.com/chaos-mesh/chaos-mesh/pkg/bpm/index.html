<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="theme-color" content="#375EAB">

  <title>bpm - Chaos Mesh</title>

<link type="text/css" rel="stylesheet" href="https://chaos-mesh.dev/godoc/master/lib/godoc/style.css">

<script>window.initFuncs = [];</script>
<script src="https://chaos-mesh.dev/godoc/master/lib/godoc/jquery.js" defer></script>




<script>var goVersion = "go1.18.1";</script>
<script src="https://chaos-mesh.dev/godoc/master/lib/godoc/godocs.js" defer></script>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-7DESCBGPBX"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-7DESCBGPBX');
</script>
</head>
<body>

<div id='lowframe' style="position: fixed; bottom: 0; left: 0; height: 0; width: 100%; border-top: thin solid grey; background-color: white; overflow: auto;">
...
</div><!-- #lowframe -->

<div id="topbar" class="wide"><div class="container">
<div class="top-heading" id="heading-wide"><a href="https:/chaos-mesh.dev/godoc/master/pkg/github.com/chaos-mesh/chaos-mesh/">Chaos Mesh | Commit b60550b. Generated at Fri Jul 21 22:03:52 UTC 2023.</a></div>
<div class="top-heading" id="heading-narrow"><a href="https:/chaos-mesh.dev/godoc/master/pkg/github.com/chaos-mesh/chaos-mesh/">Chaos Mesh</a></div>
<a href="#" id="menu-button"><span id="menu-button-arrow">&#9661;</span></a>

</div></div>



<div id="page" class="wide">
<div class="container">


  <h1>
    Package bpm
    <span class="text-muted"></span>
  </h1>







<div id="nav"></div>


<!--
	Copyright 2009 The Go Authors. All rights reserved.
	Use of this source code is governed by a BSD-style
	license that can be found in the LICENSE file.
-->
<!--
	Note: Static (i.e., not template-generated) href and id
	attributes start with "pkg-" to make it impossible for
	them to conflict with generated attributes (some of which
	correspond to Go identifiers).
-->

	<script>
	document.ANALYSIS_DATA = null;
	document.CALLGRAPH = null;
	</script>

	
		
		<div id="short-nav">
			<dl>
			<dd><code>import "github.com/chaos-mesh/chaos-mesh/pkg/bpm"</code></dd>
			</dl>
			<dl>
			<dd><a href="#pkg-overview" class="overviewLink">Overview</a></dd>
			<dd><a href="#pkg-index" class="indexLink">Index</a></dd>
			
			
			</dl>
		</div>
		<!-- The package's Name is printed as title by the top-level template -->
		<div id="pkg-overview" class="toggleVisible">
			<div class="collapsed">
				<h2 class="toggleButton" title="Click to show Overview section">Overview ▹</h2>
			</div>
			<div class="expanded">
				<h2 class="toggleButton" title="Click to hide Overview section">Overview ▾</h2>
				
				
			</div>
		</div>

		<div id="pkg-index" class="toggleVisible">
		<div class="collapsed">
			<h2 class="toggleButton" title="Click to show Index section">Index ▹</h2>
		</div>
		<div class="expanded">
			<h2 class="toggleButton" title="Click to hide Index section">Index ▾</h2>

		<!-- Table of contents for API; must be named manual-nav to turn off auto nav. -->
			<div id="manual-nav">
			<dl>
			
				<dd><a href="#pkg-constants">Constants</a></dd>
			
			
			
				
				<dd><a href="#GetNsPath">func GetNsPath(pid uint32, typ NsType) string</a></dd>
			
			
				
				<dd><a href="#BackgroundProcessManager">type BackgroundProcessManager</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="#StartBackgroundProcessManager">func StartBackgroundProcessManager(registry prometheus.Registerer, rootLogger logr.Logger) *BackgroundProcessManager</a></dd>
				
				
					
					<dd>&nbsp; &nbsp; <a href="#BackgroundProcessManager.GetIdentifiers">func (m *BackgroundProcessManager) GetIdentifiers() []string</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="#BackgroundProcessManager.GetPipes">func (m *BackgroundProcessManager) GetPipes(uid string) (Pipes, bool)</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="#BackgroundProcessManager.GetUID">func (m *BackgroundProcessManager) GetUID(pair ProcessPair) (string, bool)</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="#BackgroundProcessManager.KillBackgroundProcess">func (m *BackgroundProcessManager) KillBackgroundProcess(ctx context.Context, uid string) error</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="#BackgroundProcessManager.Shutdown">func (m *BackgroundProcessManager) Shutdown(ctx context.Context)</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="#BackgroundProcessManager.StartProcess">func (m *BackgroundProcessManager) StartProcess(ctx context.Context, cmd *ManagedCommand) (*Process, error)</a></dd>
				
			
				
				<dd><a href="#CommandBuilder">type CommandBuilder</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="#DefaultProcessBuilder">func DefaultProcessBuilder(cmd string, args ...string) *CommandBuilder</a></dd>
				
				
					
					<dd>&nbsp; &nbsp; <a href="#CommandBuilder.Build">func (b *CommandBuilder) Build(ctx context.Context) *ManagedCommand</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="#CommandBuilder.EnableLocalMnt">func (b *CommandBuilder) EnableLocalMnt() *CommandBuilder</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="#CommandBuilder.EnablePause">func (b *CommandBuilder) EnablePause() *CommandBuilder</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="#CommandBuilder.SetContext">func (b *CommandBuilder) SetContext(ctx context.Context) *CommandBuilder</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="#CommandBuilder.SetEnv">func (b *CommandBuilder) SetEnv(key, value string) *CommandBuilder</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="#CommandBuilder.SetIdentifier">func (b *CommandBuilder) SetIdentifier(id string) *CommandBuilder</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="#CommandBuilder.SetNS">func (b *CommandBuilder) SetNS(pid uint32, typ NsType) *CommandBuilder</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="#CommandBuilder.SetNSOpt">func (b *CommandBuilder) SetNSOpt(options []nsOption) *CommandBuilder</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="#CommandBuilder.SetOOMScoreAdj">func (b *CommandBuilder) SetOOMScoreAdj(scoreAdj int) *CommandBuilder</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="#CommandBuilder.SetStderr">func (b *CommandBuilder) SetStderr(stderr io.ReadWriteCloser) *CommandBuilder</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="#CommandBuilder.SetStdin">func (b *CommandBuilder) SetStdin(stdin io.ReadWriteCloser) *CommandBuilder</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="#CommandBuilder.SetStdout">func (b *CommandBuilder) SetStdout(stdout io.ReadWriteCloser) *CommandBuilder</a></dd>
				
			
				
				<dd><a href="#ManagedCommand">type ManagedCommand</a></dd>
				
				
			
				
				<dd><a href="#NsType">type NsType</a></dd>
				
				
			
				
				<dd><a href="#Pipes">type Pipes</a></dd>
				
				
			
				
				<dd><a href="#Process">type Process</a></dd>
				
				
					
					<dd>&nbsp; &nbsp; <a href="#Process.Stopped">func (p *Process) Stopped() &lt;-chan struct{}</a></dd>
				
			
				
				<dd><a href="#ProcessPair">type ProcessPair</a></dd>
				
				
			
			
			</dl>
			</div><!-- #manual-nav -->

		

		
			<h3>Package files</h3>
			<p>
			<span style="font-size:90%">
			
				<a href="./https:/chaos-mesh.dev/godoc/master/src/github.com/chaos-mesh/chaos-mesh/pkg/bpm/bpm.go">bpm.go</a>
			
				<a href="./https:/chaos-mesh.dev/godoc/master/src/github.com/chaos-mesh/chaos-mesh/pkg/bpm/build_linux.go">build_linux.go</a>
			
				<a href="./https:/chaos-mesh.dev/godoc/master/src/github.com/chaos-mesh/chaos-mesh/pkg/bpm/metrics.go">metrics.go</a>
			
			</span>
			</p>
		
		</div><!-- .expanded -->
		</div><!-- #pkg-index -->

		

		
			<h2 id="pkg-constants">Constants</h2>
			
				
				<pre>const (
    <span id="DefaultProcPrefix">DefaultProcPrefix</span> = &#34;/proc&#34;
)</pre>
			
		
		
		
			
			
			<h2 id="GetNsPath">func <a href="./https:/chaos-mesh.dev/godoc/master/src/github.com/chaos-mesh/chaos-mesh/pkg/bpm/bpm.go#L369">GetNsPath</a>
				<a class="permalink" href="#GetNsPath">&#xb6;</a>
				
				
			</h2>
			<pre>func GetNsPath(pid <a href="https:/chaos-mesh.dev/godoc/master/pkg/builtin/#uint32">uint32</a>, typ <a href="#NsType">NsType</a>) <a href="https:/chaos-mesh.dev/godoc/master/pkg/builtin/#string">string</a></pre>
			<p>
GetNsPath returns corresponding namespace path
</p>

			
			

		
		
			
			
			<h2 id="BackgroundProcessManager">type <a href="./https:/chaos-mesh.dev/godoc/master/src/github.com/chaos-mesh/chaos-mesh/pkg/bpm/bpm.go#L100">BackgroundProcessManager</a>
				<a class="permalink" href="#BackgroundProcessManager">&#xb6;</a>
				
				
			</h2>
			<p>
BackgroundProcessManager manages all background processes
</p>

			<pre>type BackgroundProcessManager struct {
    <span class="comment">// contains filtered or unexported fields</span>
}
</pre>

			

			

			
			
			

			
				
				<h3 id="StartBackgroundProcessManager">func <a href="./https:/chaos-mesh.dev/godoc/master/src/github.com/chaos-mesh/chaos-mesh/pkg/bpm/bpm.go#L171">StartBackgroundProcessManager</a>
					<a class="permalink" href="#StartBackgroundProcessManager">&#xb6;</a>
					
					
				</h3>
				<pre>func StartBackgroundProcessManager(registry <a href="https:/chaos-mesh.dev/godoc/master/pkg/github.com/prometheus/client_golang/prometheus/">prometheus</a>.<a href="https:/chaos-mesh.dev/godoc/master/pkg/github.com/prometheus/client_golang/prometheus/#Registerer">Registerer</a>, rootLogger <a href="https:/chaos-mesh.dev/godoc/master/pkg/github.com/go-logr/logr/">logr</a>.<a href="https:/chaos-mesh.dev/godoc/master/pkg/github.com/go-logr/logr/#Logger">Logger</a>) *<a href="#BackgroundProcessManager">BackgroundProcessManager</a></pre>
				<p>
StartBackgroundProcessManager creates a background process manager
</p>

				
				
			

			
				
				<h3 id="BackgroundProcessManager.GetIdentifiers">func (*BackgroundProcessManager) <a href="./https:/chaos-mesh.dev/godoc/master/src/github.com/chaos-mesh/chaos-mesh/pkg/bpm/bpm.go#L319">GetIdentifiers</a>
					<a class="permalink" href="#BackgroundProcessManager.GetIdentifiers">&#xb6;</a>
					
					
				</h3>
				<pre>func (m *<a href="#BackgroundProcessManager">BackgroundProcessManager</a>) GetIdentifiers() []<a href="https:/chaos-mesh.dev/godoc/master/pkg/builtin/#string">string</a></pre>
				<p>
GetIdentifiers finds all identifiers in BPM
</p>

				
				
				
			
				
				<h3 id="BackgroundProcessManager.GetPipes">func (*BackgroundProcessManager) <a href="./https:/chaos-mesh.dev/godoc/master/src/github.com/chaos-mesh/chaos-mesh/pkg/bpm/bpm.go#L284">GetPipes</a>
					<a class="permalink" href="#BackgroundProcessManager.GetPipes">&#xb6;</a>
					
					
				</h3>
				<pre>func (m *<a href="#BackgroundProcessManager">BackgroundProcessManager</a>) GetPipes(uid <a href="https:/chaos-mesh.dev/godoc/master/pkg/builtin/#string">string</a>) (<a href="#Pipes">Pipes</a>, <a href="https:/chaos-mesh.dev/godoc/master/pkg/builtin/#bool">bool</a>)</pre>
				
				
				
				
			
				
				<h3 id="BackgroundProcessManager.GetUID">func (*BackgroundProcessManager) <a href="./https:/chaos-mesh.dev/godoc/master/src/github.com/chaos-mesh/chaos-mesh/pkg/bpm/bpm.go#L270">GetUID</a>
					<a class="permalink" href="#BackgroundProcessManager.GetUID">&#xb6;</a>
					
					
				</h3>
				<pre>func (m *<a href="#BackgroundProcessManager">BackgroundProcessManager</a>) GetUID(pair <a href="#ProcessPair">ProcessPair</a>) (<a href="https:/chaos-mesh.dev/godoc/master/pkg/builtin/#string">string</a>, <a href="https:/chaos-mesh.dev/godoc/master/pkg/builtin/#bool">bool</a>)</pre>
				
				
				
				
			
				
				<h3 id="BackgroundProcessManager.KillBackgroundProcess">func (*BackgroundProcessManager) <a href="./https:/chaos-mesh.dev/godoc/master/src/github.com/chaos-mesh/chaos-mesh/pkg/bpm/bpm.go#L293">KillBackgroundProcess</a>
					<a class="permalink" href="#BackgroundProcessManager.KillBackgroundProcess">&#xb6;</a>
					
					
				</h3>
				<pre>func (m *<a href="#BackgroundProcessManager">BackgroundProcessManager</a>) KillBackgroundProcess(ctx <a href="https:/chaos-mesh.dev/godoc/master/pkg/context/">context</a>.<a href="https:/chaos-mesh.dev/godoc/master/pkg/context/#Context">Context</a>, uid <a href="https:/chaos-mesh.dev/godoc/master/pkg/builtin/#string">string</a>) <a href="https:/chaos-mesh.dev/godoc/master/pkg/builtin/#error">error</a></pre>
				<p>
KillBackgroundProcess sends SIGTERM to process
</p>

				
				
				
			
				
				<h3 id="BackgroundProcessManager.Shutdown">func (*BackgroundProcessManager) <a href="./https:/chaos-mesh.dev/godoc/master/src/github.com/chaos-mesh/chaos-mesh/pkg/bpm/bpm.go#L254">Shutdown</a>
					<a class="permalink" href="#BackgroundProcessManager.Shutdown">&#xb6;</a>
					
					
				</h3>
				<pre>func (m *<a href="#BackgroundProcessManager">BackgroundProcessManager</a>) Shutdown(ctx <a href="https:/chaos-mesh.dev/godoc/master/pkg/context/">context</a>.<a href="https:/chaos-mesh.dev/godoc/master/pkg/context/#Context">Context</a>)</pre>
				
				
				
				
			
				
				<h3 id="BackgroundProcessManager.StartProcess">func (*BackgroundProcessManager) <a href="./https:/chaos-mesh.dev/godoc/master/src/github.com/chaos-mesh/chaos-mesh/pkg/bpm/bpm.go#L210">StartProcess</a>
					<a class="permalink" href="#BackgroundProcessManager.StartProcess">&#xb6;</a>
					
					
				</h3>
				<pre>func (m *<a href="#BackgroundProcessManager">BackgroundProcessManager</a>) StartProcess(ctx <a href="https:/chaos-mesh.dev/godoc/master/pkg/context/">context</a>.<a href="https:/chaos-mesh.dev/godoc/master/pkg/context/#Context">Context</a>, cmd *<a href="#ManagedCommand">ManagedCommand</a>) (*<a href="#Process">Process</a>, <a href="https:/chaos-mesh.dev/godoc/master/pkg/builtin/#error">error</a>)</pre>
				<p>
StartProcess manages a process in manager
</p>

				
				
				
			
		
			
			
			<h2 id="CommandBuilder">type <a href="./https:/chaos-mesh.dev/godoc/master/src/github.com/chaos-mesh/chaos-mesh/pkg/bpm/bpm.go#L346">CommandBuilder</a>
				<a class="permalink" href="#CommandBuilder">&#xb6;</a>
				
				
			</h2>
			<p>
CommandBuilder builds a exec.Cmd for daemon
</p>

			<pre>type CommandBuilder struct {
    <span class="comment">// contains filtered or unexported fields</span>
}
</pre>

			

			

			
			
			

			
				
				<h3 id="DefaultProcessBuilder">func <a href="./https:/chaos-mesh.dev/godoc/master/src/github.com/chaos-mesh/chaos-mesh/pkg/bpm/bpm.go#L334">DefaultProcessBuilder</a>
					<a class="permalink" href="#DefaultProcessBuilder">&#xb6;</a>
					
					
				</h3>
				<pre>func DefaultProcessBuilder(cmd <a href="https:/chaos-mesh.dev/godoc/master/pkg/builtin/#string">string</a>, args ...<a href="https:/chaos-mesh.dev/godoc/master/pkg/builtin/#string">string</a>) *<a href="#CommandBuilder">CommandBuilder</a></pre>
				<p>
DefaultProcessBuilder returns the default process builder
</p>

				
				
			

			
				
				<h3 id="CommandBuilder.Build">func (*CommandBuilder) <a href="./https:/chaos-mesh.dev/godoc/master/src/github.com/chaos-mesh/chaos-mesh/pkg/bpm/build_linux.go#L31">Build</a>
					<a class="permalink" href="#CommandBuilder.Build">&#xb6;</a>
					
					
				</h3>
				<pre>func (b *<a href="#CommandBuilder">CommandBuilder</a>) Build(ctx <a href="https:/chaos-mesh.dev/godoc/master/pkg/context/">context</a>.<a href="https:/chaos-mesh.dev/godoc/master/pkg/context/#Context">Context</a>) *<a href="#ManagedCommand">ManagedCommand</a></pre>
				<p>
Build builds the command
the ctx argument passes the context information to this function
e.g. the corresponding resource name.
</p>

				
				
				
			
				
				<h3 id="CommandBuilder.EnableLocalMnt">func (*CommandBuilder) <a href="./https:/chaos-mesh.dev/godoc/master/src/github.com/chaos-mesh/chaos-mesh/pkg/bpm/bpm.go#L411">EnableLocalMnt</a>
					<a class="permalink" href="#CommandBuilder.EnableLocalMnt">&#xb6;</a>
					
					
				</h3>
				<pre>func (b *<a href="#CommandBuilder">CommandBuilder</a>) EnableLocalMnt() *<a href="#CommandBuilder">CommandBuilder</a></pre>
				
				
				
				
			
				
				<h3 id="CommandBuilder.EnablePause">func (*CommandBuilder) <a href="./https:/chaos-mesh.dev/godoc/master/src/github.com/chaos-mesh/chaos-mesh/pkg/bpm/bpm.go#L405">EnablePause</a>
					<a class="permalink" href="#CommandBuilder.EnablePause">&#xb6;</a>
					
					
				</h3>
				<pre>func (b *<a href="#CommandBuilder">CommandBuilder</a>) EnablePause() *<a href="#CommandBuilder">CommandBuilder</a></pre>
				<p>
EnablePause enables pause for process
</p>

				
				
				
			
				
				<h3 id="CommandBuilder.SetContext">func (*CommandBuilder) <a href="./https:/chaos-mesh.dev/godoc/master/src/github.com/chaos-mesh/chaos-mesh/pkg/bpm/bpm.go#L418">SetContext</a>
					<a class="permalink" href="#CommandBuilder.SetContext">&#xb6;</a>
					
					
				</h3>
				<pre>func (b *<a href="#CommandBuilder">CommandBuilder</a>) SetContext(ctx <a href="https:/chaos-mesh.dev/godoc/master/pkg/context/">context</a>.<a href="https:/chaos-mesh.dev/godoc/master/pkg/context/#Context">Context</a>) *<a href="#CommandBuilder">CommandBuilder</a></pre>
				<p>
SetContext sets context for process
</p>

				
				
				
			
				
				<h3 id="CommandBuilder.SetEnv">func (*CommandBuilder) <a href="./https:/chaos-mesh.dev/godoc/master/src/github.com/chaos-mesh/chaos-mesh/pkg/bpm/bpm.go#L374">SetEnv</a>
					<a class="permalink" href="#CommandBuilder.SetEnv">&#xb6;</a>
					
					
				</h3>
				<pre>func (b *<a href="#CommandBuilder">CommandBuilder</a>) SetEnv(key, value <a href="https:/chaos-mesh.dev/godoc/master/pkg/builtin/#string">string</a>) *<a href="#CommandBuilder">CommandBuilder</a></pre>
				<p>
SetEnv sets the environment variables of the process
</p>

				
				
				
			
				
				<h3 id="CommandBuilder.SetIdentifier">func (*CommandBuilder) <a href="./https:/chaos-mesh.dev/godoc/master/src/github.com/chaos-mesh/chaos-mesh/pkg/bpm/bpm.go#L398">SetIdentifier</a>
					<a class="permalink" href="#CommandBuilder.SetIdentifier">&#xb6;</a>
					
					
				</h3>
				<pre>func (b *<a href="#CommandBuilder">CommandBuilder</a>) SetIdentifier(id <a href="https:/chaos-mesh.dev/godoc/master/pkg/builtin/#string">string</a>) *<a href="#CommandBuilder">CommandBuilder</a></pre>
				<p>
SetIdentifier sets the identifier of the process
</p>
<p>
The identifier is used to identify the process in BPM, to confirm only one identified process is running.
If one identified process is already running, new processes with the same identifier will be blocked by lock.
</p>

				
				
				
			
				
				<h3 id="CommandBuilder.SetNS">func (*CommandBuilder) <a href="./https:/chaos-mesh.dev/godoc/master/src/github.com/chaos-mesh/chaos-mesh/pkg/bpm/bpm.go#L380">SetNS</a>
					<a class="permalink" href="#CommandBuilder.SetNS">&#xb6;</a>
					
					
				</h3>
				<pre>func (b *<a href="#CommandBuilder">CommandBuilder</a>) SetNS(pid <a href="https:/chaos-mesh.dev/godoc/master/pkg/builtin/#uint32">uint32</a>, typ <a href="#NsType">NsType</a>) *<a href="#CommandBuilder">CommandBuilder</a></pre>
				<p>
SetNS sets the namespace of the process
</p>

				
				
				
			
				
				<h3 id="CommandBuilder.SetNSOpt">func (*CommandBuilder) <a href="./https:/chaos-mesh.dev/godoc/master/src/github.com/chaos-mesh/chaos-mesh/pkg/bpm/bpm.go#L388">SetNSOpt</a>
					<a class="permalink" href="#CommandBuilder.SetNSOpt">&#xb6;</a>
					
					
				</h3>
				<pre>func (b *<a href="#CommandBuilder">CommandBuilder</a>) SetNSOpt(options []nsOption) *<a href="#CommandBuilder">CommandBuilder</a></pre>
				<p>
SetNSOpt sets the namespace of the process
</p>

				
				
				
			
				
				<h3 id="CommandBuilder.SetOOMScoreAdj">func (*CommandBuilder) <a href="./https:/chaos-mesh.dev/godoc/master/src/github.com/chaos-mesh/chaos-mesh/pkg/bpm/bpm.go#L447">SetOOMScoreAdj</a>
					<a class="permalink" href="#CommandBuilder.SetOOMScoreAdj">&#xb6;</a>
					
					
				</h3>
				<pre>func (b *<a href="#CommandBuilder">CommandBuilder</a>) SetOOMScoreAdj(scoreAdj <a href="https:/chaos-mesh.dev/godoc/master/pkg/builtin/#int">int</a>) *<a href="#CommandBuilder">CommandBuilder</a></pre>
				<p>
SetOOMScoreAdj sets the oom_score_adj for a process
oom_score_adj ranges from -1000 to 1000
</p>

				
				
				
			
				
				<h3 id="CommandBuilder.SetStderr">func (*CommandBuilder) <a href="./https:/chaos-mesh.dev/godoc/master/src/github.com/chaos-mesh/chaos-mesh/pkg/bpm/bpm.go#L439">SetStderr</a>
					<a class="permalink" href="#CommandBuilder.SetStderr">&#xb6;</a>
					
					
				</h3>
				<pre>func (b *<a href="#CommandBuilder">CommandBuilder</a>) SetStderr(stderr <a href="https:/chaos-mesh.dev/godoc/master/pkg/io/">io</a>.<a href="https:/chaos-mesh.dev/godoc/master/pkg/io/#ReadWriteCloser">ReadWriteCloser</a>) *<a href="#CommandBuilder">CommandBuilder</a></pre>
				<p>
SetStderr sets stderr for process
</p>

				
				
				
			
				
				<h3 id="CommandBuilder.SetStdin">func (*CommandBuilder) <a href="./https:/chaos-mesh.dev/godoc/master/src/github.com/chaos-mesh/chaos-mesh/pkg/bpm/bpm.go#L425">SetStdin</a>
					<a class="permalink" href="#CommandBuilder.SetStdin">&#xb6;</a>
					
					
				</h3>
				<pre>func (b *<a href="#CommandBuilder">CommandBuilder</a>) SetStdin(stdin <a href="https:/chaos-mesh.dev/godoc/master/pkg/io/">io</a>.<a href="https:/chaos-mesh.dev/godoc/master/pkg/io/#ReadWriteCloser">ReadWriteCloser</a>) *<a href="#CommandBuilder">CommandBuilder</a></pre>
				<p>
SetStdin sets stdin for process
</p>

				
				
				
			
				
				<h3 id="CommandBuilder.SetStdout">func (*CommandBuilder) <a href="./https:/chaos-mesh.dev/godoc/master/src/github.com/chaos-mesh/chaos-mesh/pkg/bpm/bpm.go#L432">SetStdout</a>
					<a class="permalink" href="#CommandBuilder.SetStdout">&#xb6;</a>
					
					
				</h3>
				<pre>func (b *<a href="#CommandBuilder">CommandBuilder</a>) SetStdout(stdout <a href="https:/chaos-mesh.dev/godoc/master/pkg/io/">io</a>.<a href="https:/chaos-mesh.dev/godoc/master/pkg/io/#ReadWriteCloser">ReadWriteCloser</a>) *<a href="#CommandBuilder">CommandBuilder</a></pre>
				<p>
SetStdout sets stdout for process
</p>

				
				
				
			
		
			
			
			<h2 id="ManagedCommand">type <a href="./https:/chaos-mesh.dev/godoc/master/src/github.com/chaos-mesh/chaos-mesh/pkg/bpm/bpm.go#L465">ManagedCommand</a>
				<a class="permalink" href="#ManagedCommand">&#xb6;</a>
				
				
			</h2>
			<p>
ManagedCommand is a process which can be managed by backgroundProcessManager
</p>

			<pre>type ManagedCommand struct {
    *<a href="https:/chaos-mesh.dev/godoc/master/pkg/os/exec/">exec</a>.<a href="https:/chaos-mesh.dev/godoc/master/pkg/os/exec/#Cmd">Cmd</a>

    <span class="comment">// If the identifier is not nil, process manager should make sure no other</span>
    <span class="comment">// process with this identifier is running when executing this command</span>
<span id="ManagedCommand.Identifier"></span>    Identifier *<a href="https:/chaos-mesh.dev/godoc/master/pkg/builtin/#string">string</a>
}
</pre>

			

			

			
			
			

			

			
		
			
			
			<h2 id="NsType">type <a href="./https:/chaos-mesh.dev/godoc/master/src/github.com/chaos-mesh/chaos-mesh/pkg/bpm/bpm.go#L35">NsType</a>
				<a class="permalink" href="#NsType">&#xb6;</a>
				
				
			</h2>
			
			<pre>type NsType <a href="https:/chaos-mesh.dev/godoc/master/pkg/builtin/#string">string</a></pre>

			
				
				<pre>const (
    <span id="MountNS">MountNS</span> <a href="#NsType">NsType</a> = &#34;mnt&#34;
    <span class="comment">// uts namespace is not supported yet</span>
    <span class="comment">// UtsNS   NsType = &#34;uts&#34;</span>
    <span id="IpcNS">IpcNS</span> <a href="#NsType">NsType</a> = &#34;ipc&#34;
    <span id="NetNS">NetNS</span> <a href="#NsType">NsType</a> = &#34;net&#34;
    <span id="PidNS">PidNS</span> <a href="#NsType">NsType</a> = &#34;pid&#34;
)</pre>
			

			

			
			
			

			

			
		
			
			
			<h2 id="Pipes">type <a href="./https:/chaos-mesh.dev/godoc/master/src/github.com/chaos-mesh/chaos-mesh/pkg/bpm/bpm.go#L94">Pipes</a>
				<a class="permalink" href="#Pipes">&#xb6;</a>
				
				
			</h2>
			<p>
pipes that will be connected to the command&#39;s stdin/stdout
</p>

			<pre>type Pipes struct {
<span id="Pipes.Stdin"></span>    Stdin  <a href="https:/chaos-mesh.dev/godoc/master/pkg/io/">io</a>.<a href="https:/chaos-mesh.dev/godoc/master/pkg/io/#WriteCloser">WriteCloser</a>
<span id="Pipes.Stdout"></span>    Stdout <a href="https:/chaos-mesh.dev/godoc/master/pkg/io/">io</a>.<a href="https:/chaos-mesh.dev/godoc/master/pkg/io/#ReadCloser">ReadCloser</a>
}
</pre>

			

			

			
			
			

			

			
		
			
			
			<h2 id="Process">type <a href="./https:/chaos-mesh.dev/godoc/master/src/github.com/chaos-mesh/chaos-mesh/pkg/bpm/bpm.go#L79">Process</a>
				<a class="permalink" href="#Process">&#xb6;</a>
				
				
			</h2>
			
			<pre>type Process struct {
<span id="Process.Uid"></span>    Uid <a href="https:/chaos-mesh.dev/godoc/master/pkg/builtin/#string">string</a>

    <span class="comment">// TODO: remove in v3.x</span>
    <span class="comment">// store create time, to keep compatible with v2.x</span>
<span id="Process.Pair"></span>    Pair <a href="#ProcessPair">ProcessPair</a>

<span id="Process.Cmd"></span>    Cmd   *<a href="#ManagedCommand">ManagedCommand</a>
<span id="Process.Pipes"></span>    Pipes <a href="#Pipes">Pipes</a>
    <span class="comment">// contains filtered or unexported fields</span>
}
</pre>

			

			

			
			
			

			

			
				
				<h3 id="Process.Stopped">func (*Process) <a href="./https:/chaos-mesh.dev/godoc/master/src/github.com/chaos-mesh/chaos-mesh/pkg/bpm/bpm.go#L166">Stopped</a>
					<a class="permalink" href="#Process.Stopped">&#xb6;</a>
					
					
				</h3>
				<pre>func (p *<a href="#Process">Process</a>) Stopped() &lt;-chan struct{}</pre>
				
				
				
				
			
		
			
			
			<h2 id="ProcessPair">type <a href="./https:/chaos-mesh.dev/godoc/master/src/github.com/chaos-mesh/chaos-mesh/pkg/bpm/bpm.go#L74">ProcessPair</a>
				<a class="permalink" href="#ProcessPair">&#xb6;</a>
				
				
			</h2>
			<p>
ProcessPair is an identifier for process
Keep compatible with v2.x
TODO: remove in v3.x
</p>
<p>
Currently, the bpm locate managed processes by both PID and create time, because the OS may reuse PID, we must check the create time to avoid locating the wrong process.
</p>
<p>
However, the two-step locating is messy and the create time may be imprecise (we have fixed a [relevant bug](<a href="https://github.com/shirou/gopsutil/pull/1204">https://github.com/shirou/gopsutil/pull/1204</a>)).
In future version, we should completely remove the two-step locating and identify managed processes by UID only.
</p>

			<pre>type ProcessPair struct {
<span id="ProcessPair.Pid"></span>    Pid        <a href="https:/chaos-mesh.dev/godoc/master/pkg/builtin/#int">int</a>
<span id="ProcessPair.CreateTime"></span>    CreateTime <a href="https:/chaos-mesh.dev/godoc/master/pkg/builtin/#int64">int64</a>
}
</pre>

			

			

			
			
			

			

			
		
	

	







<div id="footer">
Build version go1.18.1.<br>
</div>

</div><!-- .container -->
</div><!-- #page -->
</body>
</html>
